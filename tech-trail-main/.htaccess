# Enable Rewrite Engine
RewriteEngine On

# Redirect all traffic to HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Protect sensitive files
<FilesMatch "\.(env|config|ini|log|bak|sql|py)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Disable directory listing
Options -Indexes

# Block access to .htaccess itself
<Files .htaccess>
    Order allow,deny
    Deny from all
</Files>
